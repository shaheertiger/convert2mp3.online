---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import ConverterWidget from '../components/ConverterWidget.tsx';

// Icons for the feature grid
const IconSearch = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-12 h-12 text-brand-red"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" /></svg>`;
const IconDownload = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-12 h-12 text-brand-red"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" /></svg>`;
const IconVideo = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-12 h-12 text-brand-red"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z" /></svg>`;
const IconPlaylist = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-12 h-12 text-brand-red"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 17.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" /></svg>`;
---

<Layout title="Convert2MP3 - The Best Online Video Converter">
  <Header />
  
  <!-- Violet Top Border Accent -->
  <div class="fixed top-0 left-0 w-full h-1 bg-violet-600 z-50 shadow-[0_0_15px_rgba(124,58,237,0.5)]"></div>

  <main class="bg-slate-900 text-slate-200 overflow-hidden min-h-screen">
    
    <!-- HERO SECTION -->
    <section class="pt-32 pb-20 px-4 sm:px-6 lg:px-8 text-center bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-800 via-slate-900 to-slate-950">
      <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl sm:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400 mb-6 drop-shadow-sm tracking-tight">
          The Ultimate Video Conversion Tool
        </h1>
        <p class="text-lg sm:text-xl text-slate-400 mb-10 max-w-3xl mx-auto leading-relaxed font-light">
          Experience the fastest way to transform online videos into high-quality MP3s and MP4s. 
          Universal compatibility with YouTube, Dailymotion, and more. 
          <span class="text-sky-400 font-medium">No limits, no ads, just speed.</span>
        </p>

        <!-- Widget Wrapper -->
        <div class="mb-10 relative z-10">
          <ConverterWidget client:load lang="en" />
        </div>
        
        <p class="text-sm text-slate-500 max-w-lg mx-auto">
          Start simply: Search for a song title or paste a direct video link above.
        </p>
      </div>
    </section>

    <!-- STEPS BAR -->
    <section class="border-y border-white/5 bg-slate-950/50 py-8 backdrop-blur-sm">
      <div class="max-w-6xl mx-auto px-4">
        <h3 class="text-center text-violet-300 font-semibold mb-8 uppercase tracking-widest text-xs">Launch Your Conversion in 3 Steps</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-10 text-center text-sm text-slate-400">
          <div class="flex flex-col items-center gap-3 transition-colors hover:text-white group">
             <div class="w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-violet-400 group-hover:border-violet-500 group-hover:bg-violet-500/10 transition-all">1</div>
             <p>Locate your favorite video on YouTube, Dailymotion, or Clipfish.</p>
          </div>
          <div class="flex flex-col items-center gap-3 transition-colors hover:text-white group">
             <div class="w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-violet-400 group-hover:border-violet-500 group-hover:bg-violet-500/10 transition-all">2</div>
             <p>Copy the video URL and paste it into the search bar shown above.</p>
          </div>
          <div class="flex flex-col items-center gap-3 transition-colors hover:text-white group">
             <div class="w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-violet-400 group-hover:border-violet-500 group-hover:bg-violet-500/10 transition-all">3</div>
             <p>Choose your target format (MP3/MP4), hit convert, and save freely.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- INTRO TEXT -->
    <section class="py-20 px-4">
      <div class="max-w-4xl mx-auto text-center space-y-8">
        <h2 class="text-3xl font-bold text-white">
          <span class="text-violet-500">Intelligent</span> Audio Extraction
        </h2>
        <p class="text-slate-400 leading-8 text-lg font-light">
          Convert2MP3 represents the next generation of media tools. We've stripped away the annoyance of pop-ups and invasive ads to bring you a pure, streamlined experience.
          Our integrated search engine means you never have to leave the site to find the content you love. 
          Whether it's a rare track on Soundcloud or a trending clip on Vimeo, our robust engine handles it all.
          Plus, our smart-tagging system ensures your downloaded library looks pristine with correct album art and metadata.
        </p>
      </div>
    </section>

    <!-- FEATURES GRID -->
    <section class="py-16 bg-slate-950/30 border-y border-white/5">
      <div class="max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-16">
        
        <!-- Feature 1 -->
        <div class="flex gap-6 items-start">
          <div class="shrink-0 p-3 bg-violet-500/10 rounded-xl text-violet-400" set:html={IconSearch} />
          <div>
            <h3 class="text-xl font-bold text-white mb-3">High-Fidelity Audio</h3>
            <p class="text-slate-400 text-sm leading-6">
              Don't compromise on sound. Our engine extracts audio tracks with precision, ensuring bit-perfect quality for your offline music library on any device.
            </p>
          </div>
        </div>

        <!-- Feature 2 -->
        <div class="flex gap-6 items-start">
          <div class="shrink-0 p-3 bg-sky-500/10 rounded-xl text-sky-400" set:html={IconDownload} />
          <div>
            <h3 class="text-xl font-bold text-white mb-3">Universal Video Downloader</h3>
            <p class="text-slate-400 text-sm leading-6">
              Grab video content in stunning resolutions ranging from 1080p HD to 4K Ultra HD. We support full downloads without length restrictions or geo-blocks.
            </p>
          </div>
        </div>

        <!-- Feature 3 -->
        <div class="flex gap-6 items-start">
          <div class="shrink-0 p-3 bg-fuchsia-500/10 rounded-xl text-fuchsia-400" set:html={IconVideo} />
          <div>
            <h3 class="text-xl font-bold text-white mb-3">Multi-Platform Support</h3>
            <p class="text-slate-400 text-sm leading-6">
              Beyond YouTube, our system seamlessly integrates with Dailymotion, Clipfish, and more, offering consistent format options and download speeds across the web.
            </p>
          </div>
        </div>

        <!-- Feature 4 -->
        <div class="flex gap-6 items-start">
          <div class="shrink-0 p-3 bg-indigo-500/10 rounded-xl text-indigo-400" set:html={IconPlaylist} />
          <div>
            <h3 class="text-xl font-bold text-white mb-3">Batch Playlist Processing</h3>
            <p class="text-slate-400 text-sm leading-6">
              Archive entire series or albums in one go. Paste a playlist link and let our system parse up to 200 videos for sequential downloading.
            </p>
          </div>
        </div>

      </div>
    </section>

      </div>
    </section>

    <!-- FAQ SECTION -->
    <section class="py-20 px-4 bg-slate-900 border-y border-white/5">
      <div class="max-w-3xl mx-auto space-y-12">
        <h2 class="text-3xl font-bold text-center text-white mb-10"><span class="text-violet-500">Frequently</span> Asked Questions</h2>
        
        <div class="space-y-6">
          <div class="bg-slate-800/50 p-6 rounded-2xl border border-white/5 hover:border-violet-500/30 transition-colors">
            <h3 class="text-lg font-bold text-white mb-2">Is Convert2MP3 free to use?</h3>
            <p class="text-slate-400 text-sm leading-6">Yes, our tool is 100% free. There are no hidden fees, subscriptions, or limits on the number of conversions you can perform.</p>
          </div>

          <div class="bg-slate-800/50 p-6 rounded-2xl border border-white/5 hover:border-violet-500/30 transition-colors">
            <h3 class="text-lg font-bold text-white mb-2">Do I need to install any software?</h3>
            <p class="text-slate-400 text-sm leading-6">No. Convert2MP3 works entirely in your browser. However, for faster access, you can install our Web App (PWA) to your home screen or use our bookmarklet.</p>
          </div>

          <div class="bg-slate-800/50 p-6 rounded-2xl border border-white/5 hover:border-violet-500/30 transition-colors">
            <h3 class="text-lg font-bold text-white mb-2">Is it legal to convert videos?</h3>
            <p class="text-slate-400 text-sm leading-6">It is generally legal to convert and download content for personal, non-commercial use ("Fair Use"), provided you do not distribute the copyrighted material. Please respect the laws of your jurisdiction.</p>
          </div>
          
          <div class="bg-slate-800/50 p-6 rounded-2xl border border-white/5 hover:border-violet-500/30 transition-colors">
             <h3 class="text-lg font-bold text-white mb-2">What formats are supported?</h3>
             <p class="text-slate-400 text-sm leading-6">We specialize in MP3 (audio) and MP4 (video) formats, offering various quality levels from 128kbps to 320kbps for audio, and 720p to 4K for video.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- SCHEMA JSON-LD (HowTo + FAQ) -->
    <script type="application/ld+json" set:html={JSON.stringify([
      {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "How to Convert Video to MP3",
        "step": [
          {
            "@type": "HowToStep",
            "text": "Locate your favorite video on YouTube, Dailymotion, or Clipfish.",
            "name": "Find Video",
            "position": 1
          },
          {
             "@type": "HowToStep",
             "text": "Copy the video URL and paste it into the search bar shown above.",
             "name": "Paste URL",
             "position": 2
          },
          {
             "@type": "HowToStep",
             "text": "Choose your target format (MP3/MP4), hit convert, and save freely.",
             "name": "Convert & Download",
             "position": 3
          }
        ]
      },
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Is Convert2MP3 free to use?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes, our tool is 100% free. There are no hidden fees, subscriptions, or limits on the number of conversions you can perform."
            }
          },
          {
            "@type": "Question",
            "name": "Do I need to install any software?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "No. Convert2MP3 works entirely in your browser. However, for faster access, you can install our Web App (PWA) to your home screen or use our bookmarklet."
            }
          },
          {
            "@type": "Question",
            "name": "Is it legal to convert videos?",
            "acceptedAnswer": {
               "@type": "Answer",
               "text": "It is generally legal to convert and download content for personal, non-commercial use ('Fair Use'), provided you do not distribute the copyrighted material. Please respect the laws of your jurisdiction."
            }
          },
          {
             "@type": "Question",
             "name": "What formats are supported?",
             "acceptedAnswer": {
                "@type": "Answer",
                "text": "We specialize in MP3 (audio) and MP4 (video) formats, offering various quality levels from 128kbps to 320kbps for audio, and 720p to 4K for video."
             }
          }
        ]
      }
    ])} />

    <!-- SOCIAL / EXTRA TEXT -->
    <section class="py-20 px-4 text-center">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl font-bold text-white mb-6">Supported Across the Web</h2>
        <p class="text-slate-400 text-sm leading-7">
          Our reach extends to hundreds of platforms. From social media giants like Facebook, Instagram, and Twitter (X) to specialized hubs like Twitch and VK.
          Convert2MP3 provides a single, unified interface to save the educational, entertainment, and news content that matters to you.
        </p>
      </div>
    </section>

    <!-- BOTTOM ACTIONS -->
    <section class="py-24 bg-gradient-to-br from-violet-900/20 to-slate-900 border-t border-white/5">
      <div class="max-w-5xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-12">
        
        <!-- App Install -->
        <div class="bg-slate-800/50 p-8 rounded-2xl border border-white/5 text-center space-y-6 hover:border-violet-500/30 transition-colors group">
          <h3 class="text-xl font-bold text-white group-hover:text-violet-400 transition-colors">Get the Web App</h3>
          <button id="install-pwa" class="bg-violet-600 hover:bg-violet-500 text-white px-8 py-3 rounded-xl uppercase font-bold text-sm tracking-wide shadow-lg shadow-violet-900/20 transition-all transform hover:-translate-y-1">
            Add to Home Screen
          </button>
          <p class="text-slate-400 text-xs leading-5 text-left">
            Install our Progressive Web App (PWA) on Android or iOS. No app store neededâ€”just instant, lightweight access to conversion tools directly from your home screen.
          </p>
        </div>

        <!-- Bookmarklet -->
        <div class="bg-slate-800/50 p-8 rounded-2xl border border-white/5 text-center space-y-6 hover:border-sky-500/30 transition-colors group">
           <h3 class="text-xl font-bold text-white group-hover:text-sky-400 transition-colors">Browser Shortcut</h3>
           <a 
            href="javascript:(function(){window.open('https://convert2mp3.online/?url='+encodeURIComponent(window.location.href),'_blank');})();"
            onclick="event.preventDefault(); alert('Drag this button to your bookmarks bar to install!');"
            class="inline-block bg-sky-500 hover:bg-sky-400 text-slate-900 px-8 py-3 rounded-xl uppercase font-bold text-sm tracking-wide shadow-lg shadow-sky-900/20 transition-all cursor-move transform hover:-translate-y-1"
           >
            Download MP4
          </a>
           <p class="text-slate-400 text-xs leading-5 text-left">
            Desktop power user? Drag this button to your bookmarks bar. Click it while watching any video to instantly jump to the download page. Efficiency at its finest.
          </p>
        </div>

      </div>
    </section>



  </main>

  <Footer />
  <script>
    // PWA Install Logic
    let deferredPrompt;
    
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
    });

    const installBtn = document.getElementById('install-pwa');
    if (installBtn) {
      installBtn.addEventListener('click', async () => {
        if (deferredPrompt) {
          deferredPrompt.prompt();
          const { outcome } = await deferredPrompt.userChoice;
          console.log(`User response to the install information: ${outcome}`);
          deferredPrompt = null;
        } else {
          // Fallback instructions for iOS / when prompt not available
          alert("To install the Web App:\n\n1. Tap the 'Share' button in your browser.\n2. Scroll down and select 'Add to Home Screen'.");
        }
      });
    }
  </script>
</Layout>
