---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import ConverterWidget from '../components/ConverterWidget.tsx';

const title = "Download Convert2MP3 App - Spotify to MP3 Converter App";
const description = "Install the Convert2MP3 web app on your phone or computer. Get instant access to our Spotify and SoundCloud to MP3 converter without visiting the website every time.";
---

<Layout title={title} description={description}>
  <Header />

  <main class="bg-slate-900 text-slate-200 min-h-screen overflow-hidden">
    
    <!-- HERO -->
    <section class="pt-32 pb-20 px-4 text-center bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-cyan-900/30 via-slate-900 to-slate-950">
      <div class="max-w-4xl mx-auto">
        <span class="text-cyan-400 font-bold uppercase tracking-widest text-sm mb-4 block">Install Our App</span>
        <h1 class="text-4xl sm:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400 mb-6 drop-shadow-sm tracking-tight">
          Download the Convert2MP3 App
        </h1>
        <p class="text-lg sm:text-xl text-slate-400 mb-10 max-w-3xl mx-auto leading-relaxed font-light">
          No App Store needed. Install our <strong class="text-cyan-400">Progressive Web App (PWA)</strong> directly to your home screen for instant, native-app-like access to the best Spotify to MP3 converter.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center mb-16">
          <button id="install-pwa-main" class="bg-cyan-500 hover:bg-cyan-400 text-slate-900 px-10 py-4 rounded-xl font-bold uppercase tracking-wide shadow-lg shadow-cyan-500/20 transition-transform transform hover:-translate-y-1">
            üì± Install on Phone
          </button>
          <button id="install-pwa-desktop" class="bg-slate-700 hover:bg-slate-600 text-white px-10 py-4 rounded-xl font-bold uppercase tracking-wide shadow-lg transition-transform transform hover:-translate-y-1">
            üíª Install on Desktop
          </button>
        </div>
      </div>
    </section>

    <!-- HOW TO INSTALL -->
    <section class="py-20 px-4 bg-slate-950/50 border-y border-white/5">
      <div class="max-w-5xl mx-auto">
        <h2 class="text-3xl font-bold text-white text-center mb-12">How to Install the <span class="text-cyan-400">Spotify to MP3 Converter App</span></h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
          <!-- ANDROID -->
          <div class="bg-slate-800/30 p-8 rounded-2xl border border-white/5">
            <h3 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
              <span class="text-3xl">ü§ñ</span> Android (Chrome)
            </h3>
            <ol class="space-y-4 text-slate-400 text-sm">
              <li class="flex gap-3"><span class="font-bold text-cyan-400">1.</span> Visit this page in Chrome browser.</li>
              <li class="flex gap-3"><span class="font-bold text-cyan-400">2.</span> Tap the menu icon (‚ãÆ) in the top-right corner.</li>
              <li class="flex gap-3"><span class="font-bold text-cyan-400">3.</span> Select <strong class="text-white">"Add to Home screen"</strong>.</li>
              <li class="flex gap-3"><span class="font-bold text-cyan-400">4.</span> Tap "Add". The app icon will appear on your home screen!</li>
            </ol>
          </div>

          <!-- IOS -->
          <div class="bg-slate-800/30 p-8 rounded-2xl border border-white/5">
            <h3 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
              <span class="text-3xl">üçé</span> iPhone / iPad (Safari)
            </h3>
            <ol class="space-y-4 text-slate-400 text-sm">
              <li class="flex gap-3"><span class="font-bold text-cyan-400">1.</span> Open this page in Safari (not Chrome).</li>
              <li class="flex gap-3"><span class="font-bold text-cyan-400">2.</span> Tap the <strong class="text-white">Share</strong> button (box with arrow).</li>
              <li class="flex gap-3"><span class="font-bold text-cyan-400">3.</span> Scroll down and tap <strong class="text-white">"Add to Home Screen"</strong>.</li>
              <li class="flex gap-3"><span class="font-bold text-cyan-400">4.</span> Tap "Add". Done! Find the app icon on your home screen.</li>
            </ol>
          </div>

          <!-- WINDOWS -->
          <div class="bg-slate-800/30 p-8 rounded-2xl border border-white/5">
            <h3 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
              <span class="text-3xl">ü™ü</span> Windows / Mac (Chrome/Edge)
            </h3>
            <ol class="space-y-4 text-slate-400 text-sm">
              <li class="flex gap-3"><span class="font-bold text-cyan-400">1.</span> Visit this page in Chrome or Microsoft Edge.</li>
              <li class="flex gap-3"><span class="font-bold text-cyan-400">2.</span> Look for the <strong class="text-white">install icon</strong> (‚äï) in the address bar.</li>
              <li class="flex gap-3"><span class="font-bold text-cyan-400">3.</span> Click it and select "Install".</li>
              <li class="flex gap-3"><span class="font-bold text-cyan-400">4.</span> The app launches as its own window‚Äîno browser tabs!</li>
            </ol>
          </div>

          <!-- BENEFITS -->
          <div class="bg-cyan-900/10 p-8 rounded-2xl border border-cyan-500/20">
            <h3 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
              <span class="text-3xl">‚ú®</span> Why Install the App?
            </h3>
            <ul class="space-y-4 text-slate-400 text-sm">
              <li class="flex gap-3 items-start"><span class="text-cyan-400">‚úì</span> <strong class="text-white">Instant Access</strong>: Launch directly from your home screen.</li>
              <li class="flex gap-3 items-start"><span class="text-cyan-400">‚úì</span> <strong class="text-white">Fullscreen Mode</strong>: No browser UI clutter.</li>
              <li class="flex gap-3 items-start"><span class="text-cyan-400">‚úì</span> <strong class="text-white">Faster Loading</strong>: App assets are cached locally.</li>
              <li class="flex gap-3 items-start"><span class="text-cyan-400">‚úì</span> <strong class="text-white">Offline Support</strong>: Core UI loads even without internet.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- ALSO TRY -->
    <section class="py-20 px-4">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-2xl font-bold text-white mb-8">Not Ready to Install? Use It Online!</h2>
        <p class="text-slate-400 mb-10">
          No worries‚Äîour converter works perfectly in any browser. Just bookmark the page for easy access.
        </p>
        <ConverterWidget client:load lang="en" />
      </div>
    </section>

  </main>

  <Footer />

  <script>
    let deferredPrompt: any;
    
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
    });

    const handleInstall = async () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        console.log(`User response: ${outcome}`);
        deferredPrompt = null;
      } else {
        alert("To install the app:\n\n‚Ä¢ On Android: Tap the ‚ãÆ menu > 'Add to Home screen'\n‚Ä¢ On iOS: Tap Share > 'Add to Home Screen'\n‚Ä¢ On Desktop: Look for the ‚äï icon in the address bar.");
      }
    };

    document.getElementById('install-pwa-main')?.addEventListener('click', handleInstall);
    document.getElementById('install-pwa-desktop')?.addEventListener('click', handleInstall);
  </script>
  
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "MobileApplication",
    "name": "Convert2MP3 App",
    "operatingSystem": "Android, iOS, Windows, macOS",
    "applicationCategory": "MultimediaApplication",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "PHP" },
    "downloadUrl": "https://convert2mp3.online/download-app"
  })} />
</Layout>
