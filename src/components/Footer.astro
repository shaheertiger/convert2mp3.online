---
import { getLangFromUrl, useTranslations } from '../i18n/translations';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const currentYear = new Date().getFullYear();

const languages = [
  { code: 'en', name: 'English' },
  { code: 'de', name: 'Deutsch' },
  { code: 'fr', name: 'Français' },
  { code: 'es', name: 'Español' },
  { code: 'pt', name: 'Português' },
  { code: 'it', name: 'Italiano' },
  { code: 'nl', name: 'Dutch' },
  { code: 'pl', name: 'Polski' },
  { code: 'ru', name: 'Русский' },
  { code: 'ua', name: 'Українська' },
  { code: 'ro', name: 'Română' },
  { code: 'hu', name: 'Magyar' },
  { code: 'el', name: 'Ελληνικά' },
  { code: 'cz', name: 'Czech' },
  { code: 'tr', name: 'Türkçe' },
  { code: 'id', name: 'Indonesian' },
  { code: 'ph', name: 'Filipino' },
  { code: 'th', name: 'ไทย' },
  { code: 'vi', name: 'Tiếng Việt' },
  { code: 'ko', name: '한국어' },
  { code: 'ar', name: 'العربية' },
  { code: 'ja', name: '日本語' },
  { code: 'cn', name: '繁體中文' },
];
---

<footer class="bg-brand-dark pt-16 pb-8 relative z-10 text-center border-t border-white/5 bg-slate-950">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-12">
    
    <!-- Email / Contact Text -->
    <div class="space-y-2">
      <p class="text-slate-500 mb-2 text-sm font-medium uppercase tracking-wider">e-mail - for all your wishes and suggestions</p>
      <p class="text-lg text-slate-300 font-light">Please, drop some Convert2MP3 knowledge on your friends and relatives!</p>
    </div>

    <!-- Resources / Guides (SEO) -->
    <div class="flex flex-wrap justify-center gap-x-8 gap-y-2 text-sm">
        <a href="/guides/youtube-to-mp3" class="text-slate-400 hover:text-violet-400 transition-colors">YouTube to MP3 Guide</a>
        <a href="/guides/legal-media-conversion" class="text-slate-400 hover:text-violet-400 transition-colors">Legal Info</a>
        <a href="/guides/audio-formats" class="text-slate-400 hover:text-violet-400 transition-colors">Audio Formats</a>
    </div>

    <!-- Converters (SEO) -->
    <div class="flex flex-wrap justify-center gap-x-4 gap-y-2 text-xs mt-2">
        <a href="/converters/spotify-to-mp3" class="text-emerald-400/70 hover:text-emerald-300 transition-colors">Spotify to MP3</a>
        <a href="/converters/facebook-to-mp3" class="text-blue-400/70 hover:text-blue-300 transition-colors">FB to MP3</a>
        <a href="/converters/soundcloud-to-mp3" class="text-orange-400/70 hover:text-orange-300 transition-colors">SoundCloud to MP3</a>
        <a href="/converters/mp4-to-mp3" class="text-rose-400/70 hover:text-rose-300 transition-colors">MP4 to MP3</a>
        <a href="/converters/video-to-mp3" class="text-violet-400/70 hover:text-violet-300 transition-colors">Video to MP3</a>
        <a href="/converters/youtube-to-mp3-320kbps" class="text-amber-400/70 hover:text-amber-300 transition-colors">320kbps Converter</a>
        <a href="/converters/free-youtube-to-mp3" class="text-green-400/70 hover:text-green-300 transition-colors">Free Converter</a>
        <a href="/download-app" class="text-cyan-400/70 hover:text-cyan-300 transition-colors">Download App</a>
    </div>

    <!-- Social Icons -->
    <div class="flex justify-center gap-6 sm:gap-8">
      <!-- Share -->
      <a href="#" class="text-slate-400 hover:text-indigo-400 transition-colors transform hover:scale-110">
        <span class="sr-only">Share</span>
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
      </a>
      <!-- Facebook -->
      <a href="#" class="text-slate-400 hover:text-[#1877F2] transition-colors transform hover:scale-110">
        <span class="sr-only">Facebook</span>
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.17 6 13 6c.86 0 1.93.15 2.1.18V8h-1.29c-.93 0-1.11.43-1.11 1.09V12h2.51l-.33 3h-2.18v6.8c4.56-.93 8-4.96 8-9.8z"/></svg>
      </a>
      <!-- Twitter/X -->
      <a href="#" class="text-slate-400 hover:text-[#1DA1F2] transition-colors transform hover:scale-110">
        <span class="sr-only">Twitter</span>
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/></svg>
      </a>
      <!-- VK -->
      <a href="#" class="text-slate-400 hover:text-[#0077FF] transition-colors transform hover:scale-110">
        <span class="sr-only">VK</span>
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M15.07 2H8.93C5.1 2 2 5.1 2 8.93v6.14C2 18.9 5.1 22 8.93 22h6.14c3.83 0 6.93-3.1 6.93-6.93V8.93C22 5.1 18.9 2 15.07 2zM17 12.5c.34.34.69.67 1.02 1.02.4.42 1.25.92.51 1.98-.32.46-.86.35-1.22.35h-2.1c-.69 0-1.11-.29-1.54-.75-.24-.26-.45-.58-.87-.6-.18 0-.25.12-.25.33v1h-2.05c-3 0-5.18-2.61-6.73-6.85-.2-.53 0-.75.45-.75h2.1c.36 0 .58.17.7.46.64 1.7 1.55 3.32 2.76 3.16v-3.62c-.65 0-.78-.45-.6-.73.26-.39.81-.66 1.45-.69 1.12-.05.53.69.53 2.11 0 .22.05.5.33.5.76 0 1.75-1.89 2.16-3.16.14-.42.36-.67.92-.67h2.1c.64 0 .76.32.61.87-.31 1.06-1.81 3.52-2.43 4.7z"/></svg>
      </a>
      <!-- WhatsApp -->
      <a href="#" class="text-slate-400 hover:text-[#25D366] transition-colors transform hover:scale-110">
        <span class="sr-only">WhatsApp</span>
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.231-.298.347-.497.116-.198.058-.371-.03-.544-.086-.173-.78-1.884-1.074-2.576-.289-.68-.582-.586-.798-.598-.198-.01-.43-.01-.661-.01-.231 0-.608.089-.925.435-.317.347-1.215 1.188-1.215 2.895 0 1.708 1.243 3.36 1.416 3.585.174.224 2.446 3.732 5.927 5.234 2.062.89 2.858.941 3.864.887 1.111-.06 2.378-.455 2.763-1.539.386-1.084.386-2.013.272-2.211-.114-.198-.423-.339-.721-.488zM12 20.306c-1.532 0-2.977-.395-4.246-1.074l-3.045.798 1.135-2.926C5.035 15.696 4.417 14.043 4.417 12.27c0-4.187 3.407-7.594 7.594-7.594 4.187 0 7.594 3.407 7.594 7.594 0 4.187-3.407 8.036-7.605 8.036z"/></svg>
      </a>
      <!-- Tumblr -->
      <a href="#" class="text-slate-400 hover:text-[#36465D] transition-colors transform hover:scale-110">
        <span class="sr-only">Tumblr</span>
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M14.56 12.59v5.99c0 .63-.3.92-.93.92H12.3c-2.32 0-3.3-1.63-3.3-3.88v-5.06h-2.1v-3.3h2.1V4.8h3.3v2.8h2.26v3.3h-2.26v5.06c0 .54.17.84.7.84h1.56v-4.21h2.22z"/></svg>
      </a>
    </div>

    <!-- Language Grid -->
    <div class="flex flex-wrap justify-center gap-3 px-4 max-w-5xl mx-auto">
      {languages.map(l => (
        <a 
          href={l.code === 'en' ? '/' : `/${l.code}`}
          class={`border border-emerald-500/50 text-emerald-500 font-bold uppercase text-[10px] tracking-widest px-3 py-1.5 rounded transition-all hover:bg-emerald-500 hover:text-white hover:border-emerald-500 ${lang === l.code ? 'bg-emerald-500 text-white' : ''}`}
        >
          {l.name}
        </a>
      ))}
    </div>

    <!-- Copyright -->
    <div class="text-slate-500 text-xs">
      <p>&copy; {currentYear} convert2mp3.online. All rights reserved.</p>
    </div>
  </div>
</footer>
